/*! build:ucf hash:71750d44a5257e89ea60, chunkhash:63bbe7de43fe029eb274, name:singletable-inline-edit/index, filebase:index.js, query:, file:singletable-inline-edit/index.js */!function(e){function t(t){for(var n,i,o=t[0],c=t[1],s=t[2],u=0,p=[];u<o.length;u++)i=o[u],r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(d&&d(t);p.length;)p.shift()();return l.push.apply(l,s||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={7:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var d=c;l.push([2070,0]),a()}({0:function(e,t){e.exports=React},1:function(e,t){e.exports=PropTypes},2049:function(e,t,a){},2050:function(e,t,a){},2070:function(e,t,a){"use strict";a.r(t);a(135);var n=a(0),r=a.n(n),l=a(2),i=a.n(l),o=a(6),c=a.n(o),s=a(16),d=a.n(s),u=a(27),p=a.n(u),m=a(10),h=a.n(m),f=a(11),v=a.n(f),y=a(12),k=a.n(y),E=a(13),b=a.n(E),w=a(14),g=a.n(w),x=a(3),C=a(5),S=a.n(C),D=a(4),P=a(50),V=a(49),_=a(20),O=a(51),L=a(81),T=a(8),j=a.n(T),N=a(46),Y=a.n(N),A=a(24),I=a(45),q=a.n(I),F=a(64),G=a.n(F),U=a(87),M=a(98),H=a(157),K=A.a.Item,z=x.Select.Option,R=q.a.YearPicker,Q=function(e){function t(e){var a;return h()(this,t),(a=k()(this,b()(t).call(this,e))).search=function(){var e=a.props,t=e.status;(0,e.form.validateFields)(function(e,n){n.year&&(n.year=n.year.format("YYYY")),n.dept&&(n.dept=JSON.parse(n.dept).refpk),"view"!=t?a.setState({show:!0,values:n}):a.getQuery(n,0)})},a.reset=function(){a.props.form.resetFields()},a.onClickGo=function(){a.getQuery(a.state.values,0),a.setState({show:!1}),l.actions.inlineEdit.updateState({status:"view",rowEditStatus:!0})},a.onClickCancel=function(){a.setState({show:!1})},a.getQuery=function(e,t){var n=Object(D.f)(a.props.queryParam),r=n.pageParams,i=n.whereParams;for(var o in i=Object(D.f)(i),r.pageIndex=0,e){var c=!0,s=!1,d=void 0;try{for(var u,p=i.entries()[Symbol.iterator]();!(c=(u=p.next()).done);c=!0){var m=Y()(u.value,2),h=m[0];if(o===m[1].key){i.splice(h,1);break}}}catch(e){s=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(s)throw d}}if((e[o]||0===e[o])&&0===t){var f="LIKE";["code","month"].includes(o)&&(f="EQ"),["serviceYearsCompany"].includes(o)&&(f="GTEQ"),i.push({key:o,value:e[o],condition:f})}}n.whereParams=i,0===t&&l.actions.inlineEdit.loadList(n)},a.state={show:!1},a}return g()(t,e),v()(t,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldProps,a=e.searchOpen,n=e.onCallback;return r.a.createElement(M.a,{searchOpen:a,reset:this.reset,onCallback:n,search:this.search},r.a.createElement(A.a,{size:"sm"},r.a.createElement(K,{label:"员工编号"},r.a.createElement(x.FormControl,j()({placeholder:"精确查询"},t("code",{initialValue:""})))),r.a.createElement(K,{label:"员工姓名"},r.a.createElement(x.FormControl,j()({placeholder:"模糊查询"},t("name",{initialValue:""})))),r.a.createElement(K,{label:"部门"},r.a.createElement(U.a,t("dept",{initialValue:""}))),r.a.createElement(K,{label:"年份"},r.a.createElement(R,j()({},t("year",{initialValue:null}),{format:"YYYY",locale:G.a,placeholder:"选择年"}))),r.a.createElement(K,{label:"月份"},r.a.createElement(H.a,t("month",{initialValue:""}))),r.a.createElement(K,{label:"是否超标"},r.a.createElement(x.Select,t("exdeeds",{initialValue:""}),r.a.createElement(z,{value:""},"请选择"),r.a.createElement(z,{value:"0"},"未超标"),r.a.createElement(z,{value:"1"},"超标")))),r.a.createElement(O.a,{show:this.state.show,context:"数据未保存，确定查询 ?",confirmFn:this.onClickGo,cancelFn:this.onClickCancel}))}}]),t}(n.Component),B=A.a.createForm()(Q),J=a(158),X=a(134),W=a(120),Z=a(321),$=a(257),ee=a(258),te=a(217),ae={name:{component:J.a,type:"text"},sex:{component:X.a,selectList:[{key:"请选择",value:"",disabled:!0},{key:"男",value:1},{key:"女",value:0}],type:"select"},serviceYears:{component:W.a,props:{iconStyle:"one",max:99,min:0,step:1},type:"number"},serviceYearsCompany:{component:W.a,props:{iconStyle:"one",max:99,min:0,step:1},type:"number"},month:{component:X.a,selectList:[{key:"请选择",value:"",disabled:!0},{key:"一月",value:1},{key:"二月",value:2},{key:"三月",value:3},{key:"四月",value:4},{key:"五月",value:5},{key:"六月",value:6},{key:"七月",value:7},{key:"八月",value:8},{key:"九月",value:9},{key:"十月",value:10},{key:"十一月",value:11},{key:"十二月",value:12}],type:"select"},allowanceType:{component:X.a,selectList:[{key:"请选择",value:"",disabled:!0},{key:"电脑补助",value:1},{key:"住宿补助",value:2},{key:"交通补助",value:3}],type:"select"},allowanceStandard:{component:W.a,props:{max:999999,min:0,step:1,precision:2},type:"number"},allowanceActual:{component:W.a,props:{max:999999,min:0,step:1,precision:2},type:"number"},exdeeds:{component:X.a,selectList:[{key:"请选择",value:"",disabled:!0},{key:"未超标",value:0},{key:"超标",value:1}],type:"select"},pickType:{component:X.a,selectList:[{key:"请选择",value:"",disabled:!0},{key:"转账",value:1},{key:"现金",value:2}],type:"select"},remark:{component:J.a,type:"text"},year:{component:Z.a,type:"dateYear"},date:{component:te.a,type:"date"},dept:{component:$.a,type:"ref",valueKey:"deptName",key:"dept"},level:{component:ee.a,type:"ref",valueKey:"levelName",key:"level"}},ne=function(e){function t(e){var a;return h()(this,t),(a=k()(this,b()(t).call(this,e))).renderComp=function(){var e=a.props,t=e.type,n=e.value,l=e.record,i=ae[t];if(i){var o,c=i.component,s=i.type,d=i.props,u=d||{},p=l._edit,m=l._status,h=l._validate;switch(s){case"dateYear":case"date":case"text":o=n;break;case"number":o=d.precision&&d.precision>0?"number"==typeof n?n.toFixed(d.precision):"":n;break;case"select":var f=i.selectList.find(function(e){return e.value===n});o=f?f.key:"";break;case"ref":o=l[i.valueKey];break;default:o=""}return p?r.a.createElement(c,j()({status:m,validate:h},u,a.props,{data:i.selectList})):r.a.createElement("div",null,o)}return r.a.createElement("div",null,"组件类型错误")},a}return g()(t,e),v()(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderComp())}}]),t}(n.Component),re=(a(2049),function(e){function t(e){var a;return h()(this,t),(a=k()(this,b()(t).call(this,e))).oldData=[],a.column=[{title:"员工编号",dataIndex:"code",key:"code",width:150},{title:"员工姓名",dataIndex:"name",key:"name",width:120,render:function(e,t,n){return r.a.createElement(ne,{type:"name",value:e,field:"name",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"员工性别",dataIndex:"sexEnumValue",key:"sexEnumValue",width:120,render:function(e,t,n){return r.a.createElement(ne,{type:"sex",value:t.sex,field:"sex",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"所属部门",dataIndex:"deptName",key:"deptName",width:120,render:function(e,t,n){return r.a.createElement(ne,{type:"dept",field:"dept",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"职级",dataIndex:"levelName",key:"levelName",width:120,render:function(e,t,n){return r.a.createElement(ne,{type:"level",field:"postLevel",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"工龄",dataIndex:"serviceYears",key:"serviceYears",width:130,className:"column-number-right ",render:function(e,t,n){return r.a.createElement(ne,{type:"serviceYears",value:e,field:"serviceYears",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"司龄",dataIndex:"serviceYearsCompany",key:"serviceYearsCompany",width:130,className:"column-number-right ",render:function(e,t,n){return r.a.createElement(ne,{type:"serviceYearsCompany",value:e,field:"serviceYearsCompany",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"年份",dataIndex:"year",key:"year",width:100,render:function(e,t,n){return r.a.createElement(ne,{type:"year",value:e,field:"year",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"月份",dataIndex:"monthEnumValue",key:"monthEnumValue",width:120,render:function(e,t,n){return r.a.createElement(ne,{type:"month",value:t.month,field:"month",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"补贴类别",dataIndex:"allowanceTypeEnumValue",key:"allowanceTypeEnumValue",width:120,render:function(e,t,n){return r.a.createElement(ne,{type:"allowanceType",value:t.allowanceType,field:"allowanceType",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"补贴标准",dataIndex:"allowanceStandard",key:"allowanceStandard",width:120,className:"column-number-right ",render:function(e,t,n){return r.a.createElement(ne,{type:"allowanceStandard",value:e,field:"allowanceStandard",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"实际补贴",dataIndex:"allowanceActual",key:"allowanceActual",width:120,className:"column-number-right ",render:function(e,t,n){return r.a.createElement(ne,{type:"allowanceActual",value:e,field:"allowanceActual",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"是否超标",dataIndex:"exdeedsEnumValue",key:"exdeedsEnumValue",width:120,render:function(e,t,n){return r.a.createElement(ne,{type:"exdeeds",value:t.exdeeds,field:"exdeeds",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"领取方式",dataIndex:"pickTypeEnumValue",key:"pickTypeEnumValue",width:120,render:function(e,t,n){return r.a.createElement(ne,{type:"pickType",value:t.pickType,field:"pickType",index:n,required:!0,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}},{title:"备注",dataIndex:"remark",key:"remark",width:100,render:function(e,t,n){return r.a.createElement(ne,{type:"remark",value:e,field:"remark",index:n,required:!1,record:t,onChange:a.changeAllData,onValidate:a.onValidate})}}],a.changeAllData=function(e,t,n,r){var i=a.oldData,o=Object(D.f)(a.props.list);i[n][e]=t,r&&(i[n][e+"Name"]=r),o[n]._checked||(o[n]._checked=!0,l.actions.inlineEdit.updateState({list:o})),i[n]._checked=!0,a.oldData=i},a.onValidate=function(e,t,n){a.oldData.length>0&&(a.oldData[n]["_".concat(e,"Validate")]=null==t)},a.getSelectedDataFunc=function(e,t,n){var r=a.props.list,i=Object(D.f)(r);null!=n?i[n]._checked=!i[n]._checked:e.length>0?i.map(function(e){e._disabled||(e._checked=!0)}):i.map(function(e){e._disabled||(e._checked=!1)}),l.actions.inlineEdit.updateState({selectData:e,list:i})},a.freshData=function(e){a.onPageSelect(e,0)},a.onDataNumSelect=function(e,t){a.onPageSelect(t,1)},a.onPageSelect=function(e,t){var n=Object(D.f)(a.props.queryParam),r=Object(D.k)(e,t,n.pageParams),i=r.pageIndex,o=r.pageSize;n.pageParams={pageIndex:i,pageSize:o},l.actions.inlineEdit.updateState(n),l.actions.inlineEdit.loadList(n)},a.filterArrayNull=function(e){return e.filter(function(e){return null!=e})},a.hasCheck=function(){var e=a.props,t=e.selectData,n=e.list,r=!1;return t.forEach(function(e){1==e._checked&&(r=!0)}),n.forEach(function(e){1==e._checked&&(r=!0)}),r},a.newDataTmp={_edit:!0,_isNew:!0,_checked:!1,_disabled:!1,_flag:!1,code:"",name:"",sex:"",sexEnumValue:"",deptName:"",levelName:"",serviceYears:0,serviceYearsCompany:0,year:S()().format("YYYY"),month:"",monthEnumValue:"",allowanceType:"",allowanceTypeEnumValue:"",allowanceStandard:0,allowanceActual:0,exdeeds:"",exdeedsEnumValue:"",pickType:"",pickTypeEnumValue:"",remark:""},a.handlerNew=function(){var e=Object(D.f)(a.props.list),t=p()({key:Object(D.t)()},a.newDataTmp);if(a.oldData.length<=0&&(e.forEach(function(e){e._disabled=!0,e._checked=!1}),a.grid.resetColumns(a.column)),a.oldData.unshift(t),e.unshift(t),0!=a.oldData.length)for(var n=0;n<a.oldData.length;n++)for(var r=a.oldData[n],i=0;i<e.length;i++)if(r.key===e[i].key){e[i]=p()({},r);break}l.actions.inlineEdit.updateState({list:e,status:"new",rowEditStatus:!1,selectData:[]})},a.onClickUpdate=function(){var e=a.props.list.map(function(e){return e._edit=!0,e._checked=!1,e._status="edit",e});a.grid.resetColumns(a.column),a.oldData=Object(D.f)(e),l.actions.inlineEdit.updateState({list:e,status:"edit",rowEditStatus:!1})},a.onClickDownloadTemplate=function(){window.open("".concat("/iuap-pap-demo-be","/inline_allowances/excelTemplateDownload"))},a.filterList=function(e,t,a){var n=t.slice(),r=[];return e.forEach(function(e){n.forEach(function(t,n){e[a]===t[a]&&t._checked&&(t._validate=!0,r.push(e))})}),{newList:n,selectList:r}},a.isVerifyData=function(e){var t=!0,a=/Validate\b/;return e.forEach(function(n,r){var l=Object.keys(n);if(t)for(var i=0;i<l.length;i++)if(a.test(l[i])){if(!e[r][l[i]]){t=!1;break}t=!0}}),t},a.onClickSave=d()(c.a.mark(function e(){var t,n,r,i,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props,n=t.status,r=t.list,i=null,o=null,s="请勾选数据后再新增",e.t0=n,e.next="new"===e.t0?7:"edit"===e.t0?10:14;break;case 7:return i=a.filterList(a.oldData,r,"key"),o=l.actions.inlineEdit.adds,e.abrupt("break",15);case 10:return i=a.filterList(a.oldData,r,"id"),o=l.actions.inlineEdit.updates,s="请勾选数据后再更新",e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:if(!(i.selectList.length>0)){e.next=28;break}return e.next=18,l.actions.inlineEdit.updateState({list:i.newList});case 18:if(!a.isVerifyData(i.selectList)){e.next=25;break}return e.next=21,o(i.selectList);case 21:e.sent&&(a.oldData=[]),e.next=26;break;case 25:Object(D.b)("数据填写不完整");case 26:e.next=29;break;case 28:Object(D.b)(s);case 29:case"end":return e.stop()}},e)})),a.onClickDelConfirm=function(){a.props.selectData.length>0?a.setState({showPop:!0}):Object(D.b)("请勾选数据后再删除")},a.onClickDel=d()(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.selectData,e.next=3,l.actions.inlineEdit.removes(t);case 3:e.sent&&(a.oldData=[]),a.setState({showPop:!1});case 6:case"end":return e.stop()}},e)})),a.onClickPopCancel=function(){a.setState({showPop:!1})},a.onClickCancel=function(){a.hasCheck()?a.setState({showPopCancel:!0}):(a.oldData=[],l.actions.inlineEdit.resetData(!0),l.actions.inlineEdit.updateState({selectData:[],rowEditStatus:!0}))},a.onClickPopUnSaveOK=function(){l.actions.inlineEdit.resetData(!0),l.actions.inlineEdit.updateState({selectData:[],rowEditStatus:!0}),a.setState({showPopCancel:!1}),a.oldData=[]},a.onClickPopUnSaveCancel=function(){a.setState({showPopCancel:!1})},a.onClickExport=function(){a.grid.exportExcel()},a.resetTableHeight=function(e){var t=0;t=e?Object(D.j)()-420:Object(D.j)()-270,a.setState({tableHeight:t})},a.state={tableHeight:0,showPop:!1,showPopCancel:!1,validate:!1},a}return g()(t,e),v()(t,[{key:"componentWillMount",value:function(){this.resetTableHeight(!0)}},{key:"componentDidMount",value:function(){l.actions.inlineEdit.loadList(this.props.queryParam)}},{key:"render",value:function(){var e=this,t=this.state,a=t.showPop,n=t.showPopCancel,l=t.tableHeight,i=this.props,o=i.list,c=i.showLoading,s=i.pageIndex,d=i.pageSize,u=i.totalPages,p=i.total,m=i.status,h=i.rowEditStatus,f=i.queryParam,v={activePage:s,total:p,items:u,freshData:this.freshData,onDataNumSelect:this.onDataNumSelect,disabled:"view"!==m};return r.a.createElement("div",{className:"inline-edit"},r.a.createElement(V.a,{title:"A2单表行内编辑示例"}),r.a.createElement(B,{queryParam:f,status:m,pageSize:d,searchOpen:!0,onCallback:this.resetTableHeight}),r.a.createElement("div",{className:"table-header"},r.a.createElement(L.a,{funcCode:"singletable-inlineEdit",onComplete:function(){return console.log("按钮权限加载完成")}},r.a.createElement(_.a,{role:"add",disabled:Object(D.h)("add",m),className:"ml8",colors:"primary",onClick:this.handlerNew},"新增"),r.a.createElement(_.a,{role:"update",shape:"border",disabled:Object(D.h)("edit",m),className:"ml8",onClick:this.onClickUpdate},"修改"),r.a.createElement(_.a,{role:"delete",shape:"border",disabled:Object(D.h)("del",m),className:"ml8",onClick:this.onClickDelConfirm},"删除"),r.a.createElement(_.a,{shape:"border",disabled:Object(D.h)("export",m),className:"ml8",onClick:this.onClickExport},"导出"),r.a.createElement(_.a,{shape:"border",disabled:Object(D.h)("save",m),className:"ml8",onClick:this.onClickSave},"保存"),r.a.createElement(_.a,{shape:"border",disabled:Object(D.h)("cancel",m),className:"ml8",onClick:this.onClickCancel},"取消"),r.a.createElement(O.a,{show:n,context:"数据未保存，确定离开 ?",confirmFn:this.onClickPopUnSaveOK,cancelFn:this.onClickPopUnSaveCancel}))),r.a.createElement("div",{className:"grid-parent"},r.a.createElement(P.a,{ref:function(t){return e.grid=t},data:o,rowKey:function(e){return e.id?e.id:e.key},columns:this.column,paginationObj:v,columnFilterAble:h,showHeaderMenu:h,dragborder:h,draggable:h,syncHover:h,getSelectedDataFunc:this.getSelectedDataFunc,scroll:{y:l}})),r.a.createElement(O.a,{show:a,context:"是否要删除 ?",confirmFn:this.onClickDel,cancelFn:this.onClickPopCancel}),r.a.createElement(x.Loading,{fullScreen:!0,show:c}))}}]),t}(n.Component)),le=a(19),ie=(a(59),{GET_LIST:"".concat("/iuap-pap-demo-be","/inline_allowances/list"),GET_ADD:"".concat("/iuap-pap-demo-be","/inline_allowances/saveMultiple"),GET_UPDATE:"".concat("/iuap-pap-demo-be","/inline_allowances/updateMultiple"),GET_DELETE:"".concat("/iuap-pap-demo-be","/inline_allowances/deleteBatch"),GET_LIST_BY_COL:"".concat("/iuap-pap-demo-be","/inline_allowances/listByColumn"),GET_TOEXPORTEXCEL:"".concat("/iuap-pap-demo-be","/inline_allowances/toExportExcel")}),oe=function(e){var t=Object.assign({},e),a=Object(D.f)(t.pageParams);return delete t.pageParams,Object(le.a)(ie.GET_LIST,{method:"post",data:t,param:a})},ce=(window[window.webkitURL?"webkitURL":"URL"],{name:"inlineEdit",initialState:{cacheData:[],tableData:[],selectData:[],status:"view",rowEditStatus:!0,showLoading:!1,list:[],totalPages:1,total:0,queryParam:{pageParams:{pageIndex:0,pageSize:25},whereParams:[]}},reducers:{updateState:function(e,t){return p()({},e,Object(D.f)(t))}},effects:{loadList:function(){var e=d()(c.a.mark(function e(t,a){var n,r,i,o,s,d,u,p,m,h,f,v;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.actions.inlineEdit.updateState({showLoading:!0,status:"view",rowEditStatus:!0,selectData:[]}),n=a().inlineEdit,r=t||n.queryParam,e.t0=D.p,e.next=6,oe(r);case 6:e.t1=e.sent,i=(0,e.t0)(e.t1),o=i.result,s=o?o.data:null,d={showLoading:!1},u=null,s?(p=s.content,m=s.number,h=s.totalPages,f=s.totalElements,p.forEach(function(e){e.postLevelName=e.levelName}),v=m+1,u=Object.assign({},d,{list:p,pageIndex:v,totalPages:h,total:f,queryParam:r,cacheData:p})):u=d,l.actions.inlineEdit.updateState(u);case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),adds:function(){var e=d()(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.actions.inlineEdit.updateState({showLoading:!0}),e.t0=D.p,e.next=4,i=t,Object(le.a)(ie.GET_ADD,{method:"post",data:i});case 4:if(e.t1=e.sent,a=(0,e.t0)(e.t1,"保存成功"),n=a.result,r=n.status,l.actions.inlineEdit.updateState({showLoading:!1}),"success"!==r){e.next=14;break}return l.actions.inlineEdit.loadList(),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}var i},e)}));return function(t){return e.apply(this,arguments)}}(),removes:function(){var e=d()(c.a.mark(function e(t,a){var n,r,i,o,s,d,u,p;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.actions.inlineEdit.updateState({showLoading:!0}),e.t0=D.p,e.next=4,c=t,Object(le.a)(ie.GET_DELETE,{method:"post",data:c});case 4:if(e.t1=e.sent,n=(0,e.t0)(e.t1,"删除成功"),r=n.result,i=r.status,l.actions.inlineEdit.updateState({showLoading:!1}),"success"!==i){e.next=18;break}return o=a().inlineEdit,s=o.queryParam,d=o.list,u=o.totalPages,(p=s.pageParams.pageIndex)>0&&p+1===u&&t.length===d.length&&(s.pageParams.pageIndex=p-1),l.actions.inlineEdit.loadList(s),e.abrupt("return",!0);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}var c},e)}));return function(t,a){return e.apply(this,arguments)}}(),updates:function(){var e=d()(c.a.mark(function e(t){var a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.actions.inlineEdit.updateState({showLoading:!0}),e.t0=D.p,e.next=4,i=t,Object(le.a)(ie.GET_UPDATE,{method:"post",data:i});case 4:if(e.t1=e.sent,a=(0,e.t0)(e.t1,"更新成功"),n=a.result,r=n.status,l.actions.inlineEdit.updateState({showLoading:!1}),"success"!==r){e.next=14;break}return l.actions.inlineEdit.loadList(),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}var i},e)}));return function(t){return e.apply(this,arguments)}}(),resetData:function(e,t){var a=t().inlineEdit.cacheData.slice();a.forEach(function(e){delete e._edit});var n={list:a};e&&(n.status="view"),l.actions.inlineEdit.updateState(n)}}});i.a.model(ce);var se=Object(l.connect)(function(e){return e.inlineEdit},null)(re);a(2050);Object(l.render)(r.a.createElement(se,null),document.querySelector("#app"))},3:function(e,t){e.exports=TinperBee},7:function(e,t){e.exports=ReactDOM}});